@using lesson6.Components;
@using lesson6.Models;
@{
    Layout = null;
}
@functions{

    public IEnumerable<Product> GetProducts()
    {
        var products = new List<Product>();

        for (int i = 0; i < 10; i++)
        {
            products.Add(new Product { Id = i, Name = $"Product name{i}", Price = i * 5 });
        }

        return products;
    }

}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    <h1>Список продуктов начало </h1>

    <h2> @ViewData["Weather"] </h2>

    @await Component.InvokeAsync(nameof(ProductsTable), new { products = GetProducts() })

    <h1>Список продуктов конец </h1>

<div>
    <form method="get">
        <label for="region">Region</label>
        <input type="text" name="region" required />
        <br>
        <input type="submit" >
    </form>


</div>

</body>
</html>
